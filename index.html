<!DOCTYPE html>
<html>
<head>
    <title>KalkulatorQ :: Simple Calcucator</title>
    <meta charset="utf-8">
    <meta id="description" content="Kalkulator Simpel">
    <meta id="viewport" content="width=device-width, initial-scale=1">
    <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="css/style.css" rel="stylesheet" type="text/css">
<!-- new comment --> 
</head>
<body>
    <div class="container" align="center">
        <div class="row" id="title">
            <div class="col-sm-12">KalkulatorQ</div>
        </div>
        <div id="mycalcu">
            <div class="col-sm-12">
                <div id="output"></div>
                <div class="col-sm-12">
                    <div class="btn btn-danger cbutton">1</div>
                    <div class="btn btn-danger cbutton">2</div>
                    <div class="btn btn-danger cbutton">3</div>
                    <div class="btn btn-danger cbutton">+</div>
                    <div class="btn btn-danger" id="back"><span class="glyphicon glyphicon-triangle-left"></span></div>
                </div>
                <div class="col-sm-12">
                    <div class="btn btn-danger cbutton">4</div>
                    <div class="btn btn-danger cbutton">5</div>
                    <div class="btn btn-danger cbutton">6</div>
                    <div class="btn btn-danger cbutton">-</div>
                    <div class="btn btn-danger cbutton">&lpar;</div>
                </div>
                <div class="col-sm-12">
                    <div class="btn btn-danger cbutton">7</div>
                    <div class="btn btn-danger cbutton">8</div>
                    <div class="btn btn-danger cbutton">9</div>
                    <div class="btn btn-danger cbutton">x</div>
                    <div class="btn btn-danger cbutton">&rpar;</div>
                </div>
                <div class="col-sm-12">
                    <div class="btn btn-danger cbutton">C</div>
                    <div class="btn btn-danger cbutton">0</div>
                    <div class="btn btn-danger cbutton">.</div>
                    <div class="btn btn-danger cbutton">/</div>
                    <div class="btn btn-danger cbutton">=</div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        function adanodobl(content){
            return nodobl.indexOf(content)>-1;
        }
        
        var nodobl = ["+","x","/","-",".","(",")"];
        var btnq = document.getElementsByClassName("cbutton");
        var back = document.getElementById("back");
        console.log(btnq);
        
        var outputq = document.getElementById("output");
        var calcq = '';
        
        var noatfirst = false;
        var dobl = false;
        
        back.addEventListener("click", function(){
            calcq=calcq.substring(0,calcq.length -1);
            outputq.innerHTML = calcq;
            })
        
        for(var i=0; i<btnq.length; i++){
            btnq[i].addEventListener("click",function(){
            var valueq = this.innerHTML;

                
            //agar tidak ada huruf 0 dan huruf yang tidak boleh double diawal
            if (calcq == "0"){
                calcq = '';
            }
                
 
            if (valueq == "="){
                if(calcq==''){
                    calcq='';
                 } else {
                    var calcq2 = calcq.replace("x","*");
                    calcq = eval(calcq2);
                 }
            } else if (valueq == "C"){
                calcq = "0";
            } else if (valueq == "+"|| valueq == "x"|| valueq == "/"|| valueq == "-"|| valueq == "."|| valueq == "("|| valueq == ")"){
                calcq = calcq+valueq
                var seblm = outputq.innerHTML.slice(-1);
                if(adanodobl(seblm)){
                calcq = calcq.substring(0,calcq.length -1);
                }        
            } else {
                calcq = calcq+valueq;                
            }
                
            console.log(calcq, "#valueq :"+valueq, "#seblm :"+seblm, "#adanodbl :"+adanodobl(seblm));  
            
            outputq.innerHTML = calcq;
            })
        }
    </script>
    <!-- script link -->
    <script src="js/jquery-2.2.0.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
</body>
</html>